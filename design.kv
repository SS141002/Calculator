<Background>:
    MDNavigationLayout:
        Screen_Manager:
            MDScreen:
                MDBoxLayout:
                    orientation: "horizontal"
                    MDNavigationRail:
                        MDNavigationRailItem:
                            text: "Standard"
                            icon: "calculator-variant"
                            active: True
                            on_press: 
                                scr_mgr.current = "scr_std"

                        MDNavigationRailItem:
                            text: "Scientific"
                            icon: "flask"
                            on_press: 
                                scr_mgr.current = "scr_sci"

                        MDNavigationRailItem:
                            text: "Conversion"
                            icon: "autorenew"
                            on_press: 
                                scr_mgr.current = "scr_uni"

                    Screen_Manager:
                        id: scr_mgr
                        Standard:
                        Unit_Converter:
                        Scientific:

#####################################################################

#Can also use "MDRoundFlatButton"
<Std_Num_Btn@MDIconButton>:
    icon_size: 42

<Std_Func_Btn@MDFloatingActionButton>:
    icon_size: 30
    

<Standard>:
    name: "scr_std"

    std_text: std_text
    std_ans: std_ans

    FloatLayout:
        MDTextField:
            id: std_text
            text: ""
            mode: "fill"
            font_size: 40
            size_hint: [0.94, 0.24]
            pos_hint: {"center_x": 0.5, "center_y": 0.85}
            halign: "right"
            readonly: True
            multiline: False
            active_line: False
            radius: [10, 10, 10, 10]
            fill_color_normal: app.theme_cls.bg_light
            on_text:
                root.text_correct()
            
        MDTextField:
            id: std_ans
            text: ""
            mode: "fill"
            font_size: 24
            size_hint_x: 0.94
            pos_hint: {"center_x": 0.5, "center_y": 0.64}
            halign: "right"
            readonly: True
            multiline: False
            cursor_blink: False
            active_line: False
            radius: [10, 10, 10, 10]
            fill_color_normal: app.theme_cls.bg_light

        Std_Num_Btn:
            icon: "numeric-7"
            pos_hint: {"center_x": 0.150, "center_y": 0.485}
            on_press:
                std_text.text += "7"

        Std_Num_Btn:
            icon: "numeric-4"
            pos_hint: {"center_x": 0.150, "center_y": 0.350}
            on_press:
                std_text.text += "4"

        Std_Num_Btn:
            icon: "numeric-1"
            pos_hint: {"center_x": 0.150, "center_y": 0.215}
            on_press:
                std_text.text += "1"

        Std_Func_Btn:
            icon: "plus-minus-variant"
            pos_hint: {"center_x": 0.150, "center_y": 0.080}
            on_press:
                # std_text.text = "-" + std_text.text
                root.negation()
        
        Std_Num_Btn:
            icon: "numeric-8"
            pos_hint: {"center_x": 0.325, "center_y": 0.485}
            on_press:
                std_text.text += "8"

        Std_Num_Btn:
            icon: "numeric-5"
            pos_hint: {"center_x": 0.325, "center_y": 0.350}
            on_press:
                std_text.text += "5"

        Std_Num_Btn:
            icon: "numeric-2"
            pos_hint: {"center_x": 0.325, "center_y": 0.215}
            on_press:
                std_text.text += "2"

        Std_Num_Btn:
            icon: "numeric-0"
            pos_hint: {"center_x": 0.325, "center_y": 0.080}
            on_press:
                std_text.text += "0"

        Std_Num_Btn:
            icon: "numeric-9"
            pos_hint: {"center_x": 0.500, "center_y": 0.485}
            on_press:
                std_text.text += "9"

        Std_Num_Btn:
            icon: "numeric-6"
            pos_hint: {"center_x": 0.500, "center_y": 0.350}
            on_press:
                std_text.text += "6"

        Std_Num_Btn:
            icon: "numeric-3"
            pos_hint: {"center_x": 0.500, "center_y": 0.215}
            on_press:
                std_text.text += "3"

        Std_Num_Btn:
            icon: "circle-small"
            pos_hint: {"center_x": 0.500, "center_y": 0.080}
            on_press:
                std_text.text += "."

        Std_Func_Btn:
            icon: "slash-forward"
            pos_hint: {"center_x": 0.675, "center_y": 0.485}  
            on_press:
                std_text.text += "/"
        
        Std_Func_Btn:
            icon: "multiplication"
            pos_hint: {"center_x": 0.675, "center_y": 0.350}
            on_press:
                std_text.text += "*"  

        Std_Func_Btn:
            icon: "plus"
            pos_hint: {"center_x": 0.675, "center_y": 0.215}  
            on_press:
                std_text.text += "+"

        Std_Func_Btn:
            icon: "minus"
            pos_hint: {"center_x": 0.675, "center_y": 0.080}
            on_press:
                std_text.text += "-"

        Std_Func_Btn:
            icon: "backspace-outline"
            pos_hint: {"center_x": 0.850, "center_y": 0.485}
            on_press:
                std_text.text = std_text.text[:-1] 

        Std_Func_Btn:
            icon: "language-c"
            pos_hint: {"center_x": 0.850, "center_y": 0.350}
            on_press:
                std_text.text = ""
                std_ans.text = ""

        Std_Func_Btn:
            icon: "percent"
            pos_hint: {"center_x": 0.850, "center_y": 0.215}
            on_press:
                root.percentage()

        Std_Func_Btn:
            icon: "equal"
            pos_hint: {"center_x": 0.850, "center_y": 0.080}  
            on_press:
                std_text.text = std_ans.text

#####################################################################

<Scientific>:
    name: "scr_sci"




#####################################################################

<Spinner>:
    sync_height: True
    font_size: 20
    background_color: app.theme_cls.primary_color
    size_hint: (0.25,0.125)
    text_autoupdate: True

<Button>:
    font_size: 20
    background_color: app.theme_cls.primary_color


<Unit_Converter>:
    name: "scr_uni"

    unit_main: unit_main
    unit_primary: unit_primary
    unit_secondary: unit_secondary

    FloatLayout:
        Spinner:
            id: unit_main
            # text: "Length"
            values: ["Length", "Time", "Temprature"]
            pos_hint: {"center_x":0.5,"center_y":0.91}

        Spinner:
            id: unit_primary
            values: ["Length", "Time", "Temprature"]
            pos_hint: {"center_x":0.15,"center_y":0.7}

        MDTextField:
            id: text_primary
            mode: "rectangle"
            multiline: False
            font_size: sp(20)
            write_tab: False
            input_filter: "float"
            size_hint_x: 0.66
            pos_hint: {'center_x': 0.635,'center_y': 0.7}

        MDIconButton:
            icon: "swap-vertical"
            icon_color: app.theme_cls.primary_color
            pos_hint: {'center_x': 0.15,'center_y': 0.525}

        MDIconButton:
            icon: "swap-vertical"
            icon_color: app.theme_cls.primary_color
            pos_hint: {'center_x': 0.635,'center_y': 0.525}

        Spinner:
            id: unit_secondary
            values: ["Length", "Time", "Temprature"]
            pos_hint: {"center_x":0.15,"center_y":0.35}

        MDTextField:
            id: text_secondary
            mode: "rectangle"
            multiline: False
            # font_size: 
            write_tab: False
            readonly: True
            size_hint: [0.66, 0.12]
            pos_hint: {'center_x': 0.635,'center_y': 0.35}
            




            
